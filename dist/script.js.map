{"version":3,"sources":["script.js"],"names":["controller","slideScene","pageScene","detailScene","animateSlide","ScrollMagic","Controller","sliders","document","querySelectorAll","querySelector","forEach","slide","index","slides","revealImg","img","revealText","slideTimeline","gsap","timeline","defaults","duration","ease","fromTo","x","scale","visibility","opacity","Scene","triggerElement","triggerHook","reverse","setTween","addTo","pageTimeline","nextSlide","length","y","setPin","pushFollowers","mouse","mouseTxt","burger","navLinks","cursor","e","style","top","pageY","left","pageX","activeCursor","item","target","id","classList","contains","add","remove","to","innerHTML","navToggle","rotate","background","color","clipPath","body","closeNav","detailAnimation","slideTl","barba","init","views","namespace","beforeEnter","beforeLeave","destroy","transitions","leave","_ref","current","done","next","this","async","tl","container","onComplete","enter","_ref2","window","scrollTo","stagger","console","log","link","addEventListener"],"mappings":"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","file":"script.js","sourcesContent":["let controller;\r\nlet slideScene;\r\nlet pageScene;\r\nlet detailScene;\r\n\r\nfunction animateSlide() {\r\n  //Init controller\r\n  controller = new ScrollMagic.Controller();\r\n\r\n  //Select somthing\r\n  const sliders = document.querySelectorAll(\".slide\");\r\n  const nav = document.querySelector(\".nav-header\");\r\n\r\n  //Loop over each slide\r\n  sliders.forEach((slide, index, slides) => {\r\n    const revealImg = slide.querySelector(\".reveal-img\");\r\n    const img = slide.querySelector(\"img\");\r\n    const revealText = slide.querySelector(\".reveal-text\");\r\n    //GSAP\r\n    const slideTimeline = gsap.timeline({\r\n      defaults: { duration: 1, ease: \"power2.inOut\" },\r\n    });\r\n\r\n    slideTimeline.fromTo(revealImg, { x: \"0%\" }, { x: \"200%\" });\r\n    slideTimeline.fromTo(img, { scale: 2 }, { scale: 1 }, \"-=1\");\r\n    slideTimeline.fromTo(\r\n      revealText,\r\n      { x: \"0%\" },\r\n      { x: \"300%\" },\r\n      { visibility: \"hidden\" },\r\n      { opacity: 0 },\r\n      \"-=0.75\"\r\n    );\r\n    // slideTimeline.fromTo(nav, { y: \"-100%\" }, { y: \"0\" }, \"-=0.5\");\r\n\r\n    //Create Scene\r\n    slideScene = new ScrollMagic.Scene({\r\n      triggerElement: slide,\r\n      triggerHook: 0.25,\r\n      reverse: false,\r\n    })\r\n      .setTween(slideTimeline)\r\n      //   .addIndicators({\r\n      //     colorStart: \"white\",\r\n      //     colorTrigger: \"white\",\r\n      //     name: \"slide\",\r\n      //   })\r\n      .addTo(controller);\r\n\r\n    //New Animation\r\n    const pageTimeline = gsap.timeline();\r\n    const nextSlide = slides.length - 1 === index ? \"end\" : slides[index + 1];\r\n\r\n    pageTimeline.fromTo(nextSlide, { y: \"0%\" }, { y: \"50%\" });\r\n    pageTimeline.fromTo(\r\n      slide,\r\n      { opacity: 1, scale: 1 },\r\n      { opacity: 0, scale: 0.5 }\r\n    );\r\n    pageTimeline.fromTo(nextSlide, { y: \"50%\" }, { y: \"0%\" }, \"-=0.5\");\r\n\r\n    //Create new Scene\r\n    pageScene = new ScrollMagic.Scene({\r\n      triggerElement: slide,\r\n      duration: \"100%\",\r\n      triggerHook: 0,\r\n    })\r\n      //   .addIndicators({\r\n      //     // colorStart: \"white\",\r\n      //     // colorTrigger: \"white\",\r\n      //     // name: \"page\",\r\n      //     indent: 200,\r\n      //   })\r\n      .setPin(slide, { pushFollowers: false })\r\n      .setTween(pageTimeline)\r\n      .addTo(controller);\r\n  });\r\n}\r\n\r\nconst mouse = document.querySelector(\".cursor\");\r\nconst mouseTxt = mouse.querySelector(\"span\");\r\nconst burger = document.querySelector(\".burger\");\r\nconst navLinks = document.querySelectorAll(\".nav-link\");\r\n\r\nfunction cursor(e) {\r\n  mouse.style.top = e.pageY + \"px\";\r\n  mouse.style.left = e.pageX + \"px\";\r\n}\r\n\r\nfunction activeCursor(e) {\r\n  const item = e.target;\r\n\r\n  if (item.id === \"logo\" || item.classList.contains(\"burger\")) {\r\n    mouse.classList.add(\"nav-active\");\r\n  } else {\r\n    mouse.classList.remove(\"nav-active\");\r\n  }\r\n  if (item.classList.contains(\"explore\")) {\r\n    mouse.classList.add(\"explore-active\");\r\n    gsap.to(\".title-swipe\", 1, { y: \"0%\" });\r\n    mouseTxt.innerHTML = \"Tap\";\r\n  } else {\r\n    mouse.classList.remove(\"explore-active\");\r\n    mouseTxt.innerHTML = \"\";\r\n    gsap.to(\".title-swipe\", 1, { y: \"100%\" });\r\n  }\r\n}\r\n\r\nfunction navToggle(e) {\r\n  if (!e.target.classList.contains(\"active\")) {\r\n    e.target.classList.add(\"active\");\r\n    gsap.to(\".line1\", 0.5, { rotate: \"45\", y: 5, background: \"black\" });\r\n    gsap.to(\".line2\", 0.5, { rotate: \"-45\", y: -5, background: \"black\" });\r\n    gsap.to(\"#logo\", 1, { color: \"black\" });\r\n    gsap.to(\".nav-bar\", 1, { clipPath: \"circle(2500px at 100% -10%)\" });\r\n    document.body.classList.add(\"hide\");\r\n  } else {\r\n    e.target.classList.remove(\"active\");\r\n    gsap.to(\".line1\", 0.5, { rotate: \"0\", y: 0, background: \"white\" });\r\n    gsap.to(\".line2\", 0.5, { rotate: \"0\", y: 0, background: \"white\" });\r\n    gsap.to(\"#logo\", 1, { color: \"white\" });\r\n    gsap.to(\".nav-bar\", 1, { clipPath: \"circle(50px at 100% -10%)\" });\r\n    document.body.classList.remove(\"hide\");\r\n  }\r\n}\r\n\r\nfunction closeNav(e) {\r\n  e.target.classList.remove(\"active\");\r\n  gsap.to(\".line1\", 0.5, { rotate: \"0\", y: 0, background: \"white\" });\r\n  gsap.to(\".line2\", 0.5, { rotate: \"0\", y: 0, background: \"white\" });\r\n  gsap.to(\"#logo\", 1, { color: \"white\" });\r\n  gsap.to(\".nav-bar\", 1, { clipPath: \"circle(50px at 100% -10%)\" });\r\n  document.body.classList.remove(\"hide\");\r\n}\r\n\r\n//Barba Page Transition\r\nbarba.init({\r\n  views: [\r\n    {\r\n      namespace: \"home\",\r\n      beforeEnter() {\r\n        animateSlide();\r\n      },\r\n      beforeLeave() {\r\n        slideScene.destroy();\r\n        pageScene.destroy();\r\n        controller.destroy();\r\n      },\r\n    },\r\n    {\r\n      namespace: \"about\",\r\n      beforeEnter() {\r\n        detailAnimation();\r\n      },\r\n      beforeLeave() {\r\n        controller.destroy();\r\n        detailScene.destroy();\r\n      },\r\n    },\r\n  ],\r\n  transitions: [\r\n    {\r\n      leave({ current, next }) {\r\n        let done = this.async();\r\n        //An animation\r\n        const tl = gsap.timeline({ defaults: { ease: \"power2.inOut\" } });\r\n        tl.fromTo(current.container, 1, { opacity: 1 }, { opacity: 0 });\r\n        tl.fromTo(\r\n          \".swipe\",\r\n          0.75,\r\n          { x: \"-100%\" },\r\n          { x: \"0%\", onComplete: done },\r\n          \"-=0.5\"\r\n        );\r\n      },\r\n      enter({ current, next }) {\r\n        let done = this.async();\r\n        //Scroll to top\r\n        window.scrollTo(0, 0);\r\n        //An Animation\r\n        const tl = gsap.timeline({ defaults: { ease: \"power2.inOut\" } });\r\n        tl.fromTo(\r\n          \".swipe\",\r\n          1,\r\n\r\n          { x: \"0%\" },\r\n          { x: \"100%\", stagger: 0.2, onComplete: done }\r\n        );\r\n        tl.fromTo(next.container, 1, { opacity: 0 }, { opacity: 1 });\r\n        tl.fromTo(\r\n          \".nav-header\",\r\n          1,\r\n          { y: \"-100%\" },\r\n          { y: \"0%\", ease: \"power2.inOut\" },\r\n          \"-=1.5\"\r\n        );\r\n      },\r\n    },\r\n  ],\r\n});\r\n\r\nfunction detailAnimation() {\r\n  controller = new ScrollMagic.Controller();\r\n  const slides = document.querySelectorAll(\".detail-slide\");\r\n  slides.forEach((slide, index, slides) => {\r\n    const slideTl = gsap.timeline({ defaults: { duration: 1 } });\r\n    const nextSlide = slides.length - 1 === index ? \"end\" : slides[index + 1];\r\n    const nextImg = nextSlide.querySelector(\"img\");\r\n    slideTl.fromTo(slide, { opacity: 1 }, { opacity: 0 });\r\n    slideTl.fromTo(nextSlide, { opacity: 0 }, { opacity: 1 }, \"-= 1\");\r\n    // slideTl.fromTo(nextImg, { x: \"50%\" }, { x: \"0%\" });\r\n    //Scene\r\n    detailScene = new ScrollMagic.Scene({\r\n      triggerElement: slide,\r\n      duration: \"100%\",\r\n      triggerHook: 0,\r\n    })\r\n      .setPin(slide, { pushFollowers: false })\r\n      .setTween(slideTl)\r\n      // .addIndicators({\r\n      //   colorStart: \"white\",\r\n      //   colorTrigger: \"white\",\r\n      //   name: \"detailScene\",\r\n      //   indent: 200,\r\n      // })\r\n      .addTo(controller);\r\n  });\r\n}\r\n\r\n//EventListeners\r\nconsole.log(navLinks);\r\nnavLinks.forEach((link) => {\r\n  link.addEventListener(\"click\", closeNav);\r\n});\r\nburger.addEventListener(\"click\", navToggle);\r\nwindow.addEventListener(\"mousemove\", cursor);\r\nwindow.addEventListener(\"mouseover\", activeCursor);\r\n\r\nanimateSlide();\r\n"]}