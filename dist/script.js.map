{"version":3,"sources":["script.js"],"names":["controller","slideScene","pageScene","detailScene","animateSlide","ScrollMagic","Controller","sliders","document","querySelectorAll","querySelector","forEach","slide","index","slides","revealImg","img","revealText","slideTimeline","gsap","timeline","defaults","duration","ease","fromTo","x","scale","Scene","triggerElement","triggerHook","reverse","setTween","addTo","pageTimeline","nextSlide","length","y","opacity","setPin","pushFollowers","mouse","mouseTxt","burger","cursor","e","style","top","pageY","left","pageX","activeCursor","item","target","id","classList","contains","add","remove","to","innerHTML","navToggle","rotate","background","color","clipPath","body","detailAnimation","slideTl","barba","init","views","namespace","beforeEnter","beforeLeave","destroy","transitions","leave","_ref","current","done","next","this","async","tl","container","onComplete","enter","_ref2","window","scrollTo","stagger","addEventListener"],"mappings":"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","file":"script.js","sourcesContent":["let controller;\r\nlet slideScene;\r\nlet pageScene;\r\nlet detailScene;\r\n\r\nfunction animateSlide() {\r\n  //Init controller\r\n  controller = new ScrollMagic.Controller();\r\n\r\n  //Select somthing\r\n  const sliders = document.querySelectorAll(\".slide\");\r\n  const nav = document.querySelector(\".nav-header\");\r\n\r\n  //Loop over each slide\r\n  sliders.forEach((slide, index, slides) => {\r\n    const revealImg = slide.querySelector(\".reveal-img\");\r\n    const img = slide.querySelector(\"img\");\r\n    const revealText = slide.querySelector(\".reveal-text\");\r\n    //GSAP\r\n    const slideTimeline = gsap.timeline({\r\n      defaults: { duration: 1, ease: \"power2.inOut\" },\r\n    });\r\n\r\n    slideTimeline.fromTo(revealImg, { x: \"0%\" }, { x: \"100%\" });\r\n    slideTimeline.fromTo(img, { scale: 2 }, { scale: 1 }, \"-=1\");\r\n    slideTimeline.fromTo(revealText, { x: \"0%\" }, { x: \"100%\" }, \"-=0.75\");\r\n    // slideTimeline.fromTo(nav, { y: \"-100%\" }, { y: \"0\" }, \"-=0.5\");\r\n\r\n    //Create Scene\r\n    slideScene = new ScrollMagic.Scene({\r\n      triggerElement: slide,\r\n      triggerHook: 0.25,\r\n      reverse: false,\r\n    })\r\n      .setTween(slideTimeline)\r\n      //   .addIndicators({\r\n      //     colorStart: \"white\",\r\n      //     colorTrigger: \"white\",\r\n      //     name: \"slide\",\r\n      //   })\r\n      .addTo(controller);\r\n\r\n    //New Animation\r\n    const pageTimeline = gsap.timeline();\r\n    const nextSlide = slides.length - 1 === index ? \"end\" : slides[index + 1];\r\n\r\n    pageTimeline.fromTo(nextSlide, { y: \"0%\" }, { y: \"50%\" });\r\n    pageTimeline.fromTo(\r\n      slide,\r\n      { opacity: 1, scale: 1 },\r\n      { opacity: 0, scale: 0.5 }\r\n    );\r\n    pageTimeline.fromTo(nextSlide, { y: \"50%\" }, { y: \"0%\" }, \"-=0.5\");\r\n\r\n    //Create new Scene\r\n    pageScene = new ScrollMagic.Scene({\r\n      triggerElement: slide,\r\n      duration: \"100%\",\r\n      triggerHook: 0,\r\n    })\r\n      //   .addIndicators({\r\n      //     // colorStart: \"white\",\r\n      //     // colorTrigger: \"white\",\r\n      //     // name: \"page\",\r\n      //     indent: 200,\r\n      //   })\r\n      .setPin(slide, { pushFollowers: false })\r\n      .setTween(pageTimeline)\r\n      .addTo(controller);\r\n  });\r\n}\r\n\r\nconst mouse = document.querySelector(\".cursor\");\r\nconst mouseTxt = mouse.querySelector(\"span\");\r\nconst burger = document.querySelector(\".burger\");\r\n\r\nfunction cursor(e) {\r\n  mouse.style.top = e.pageY + \"px\";\r\n  mouse.style.left = e.pageX + \"px\";\r\n}\r\n\r\nfunction activeCursor(e) {\r\n  const item = e.target;\r\n\r\n  if (item.id === \"logo\" || item.classList.contains(\"burger\")) {\r\n    mouse.classList.add(\"nav-active\");\r\n  } else {\r\n    mouse.classList.remove(\"nav-active\");\r\n  }\r\n  if (item.classList.contains(\"explore\")) {\r\n    mouse.classList.add(\"explore-active\");\r\n    gsap.to(\".title-swipe\", 1, { y: \"0%\" });\r\n    mouseTxt.innerHTML = \"Tap\";\r\n  } else {\r\n    mouse.classList.remove(\"explore-active\");\r\n    mouseTxt.innerHTML = \"\";\r\n    gsap.to(\".title-swipe\", 1, { y: \"100%\" });\r\n  }\r\n}\r\n\r\nfunction navToggle(e) {\r\n  if (!e.target.classList.contains(\"active\")) {\r\n    e.target.classList.add(\"active\");\r\n    gsap.to(\".line1\", 0.5, { rotate: \"45\", y: 5, background: \"black\" });\r\n    gsap.to(\".line2\", 0.5, { rotate: \"-45\", y: -5, background: \"black\" });\r\n    gsap.to(\"#logo\", 1, { color: \"black\" });\r\n    gsap.to(\".nav-bar\", 1, { clipPath: \"circle(2500px at 100% -10%)\" });\r\n    document.body.classList.add(\"hide\");\r\n  } else {\r\n    e.target.classList.remove(\"active\");\r\n    gsap.to(\".line1\", 0.5, { rotate: \"0\", y: 0, background: \"white\" });\r\n    gsap.to(\".line2\", 0.5, { rotate: \"0\", y: 0, background: \"white\" });\r\n    gsap.to(\"#logo\", 1, { color: \"white\" });\r\n    gsap.to(\".nav-bar\", 1, { clipPath: \"circle(50px at 100% -10%)\" });\r\n    document.body.classList.remove(\"hide\");\r\n  }\r\n}\r\n//Barba Page Transition\r\nbarba.init({\r\n  views: [\r\n    {\r\n      namespace: \"home\",\r\n      beforeEnter() {\r\n        animateSlide();\r\n      },\r\n      beforeLeave() {\r\n        slideScene.destroy();\r\n        pageScene.destroy();\r\n        controller.destroy();\r\n      },\r\n    },\r\n    {\r\n      namespace: \"fashion\",\r\n      beforeEnter() {\r\n        detailAnimation();\r\n      },\r\n      beforeLeave() {\r\n        controller.destroy();\r\n        detailScene.destroy();\r\n      },\r\n    },\r\n  ],\r\n  transitions: [\r\n    {\r\n      leave({ current, next }) {\r\n        let done = this.async();\r\n        //An animation\r\n        const tl = gsap.timeline({ defaults: { ease: \"power2.inOut\" } });\r\n        tl.fromTo(current.container, 1, { opacity: 1 }, { opacity: 0 });\r\n        tl.fromTo(\r\n          \".swipe\",\r\n          0.75,\r\n          { x: \"-100%\" },\r\n          { x: \"0%\", onComplete: done },\r\n          \"-=0.5\"\r\n        );\r\n      },\r\n      enter({ current, next }) {\r\n        let done = this.async();\r\n        //Scroll to top\r\n        window.scrollTo(0, 0);\r\n        //An Animation\r\n        const tl = gsap.timeline({ defaults: { ease: \"power2.inOut\" } });\r\n        tl.fromTo(\r\n          \".swipe\",\r\n          1,\r\n\r\n          { x: \"0%\" },\r\n          { x: \"100%\", stagger: 0.2, onComplete: done }\r\n        );\r\n        tl.fromTo(next.container, 1, { opacity: 0 }, { opacity: 1 });\r\n        tl.fromTo(\r\n          \".nav-header\",\r\n          1,\r\n          { y: \"-100%\" },\r\n          { y: \"0%\", ease: \"power2.inOut\" },\r\n          \"-=1.5\"\r\n        );\r\n      },\r\n    },\r\n  ],\r\n});\r\n\r\nfunction detailAnimation() {\r\n  controller = new ScrollMagic.Controller();\r\n  const slides = document.querySelectorAll(\".detail-slide\");\r\n  slides.forEach((slide, index, slides) => {\r\n    const slideTl = gsap.timeline({ defaults: { duration: 1 } });\r\n    const nextSlide = slides.length - 1 === index ? \"end\" : slides[index + 1];\r\n    const nextImg = nextSlide.querySelector(\"img\");\r\n    slideTl.fromTo(slide, { opacity: 1 }, { opacity: 0 });\r\n    slideTl.fromTo(nextSlide, { opacity: 0 }, { opacity: 1 }, \"-= 1\");\r\n    // slideTl.fromTo(nextImg, { x: \"50%\" }, { x: \"0%\" });\r\n    //Scene\r\n    detailScene = new ScrollMagic.Scene({\r\n      triggerElement: slide,\r\n      duration: \"100%\",\r\n      triggerHook: 0,\r\n    })\r\n      .setPin(slide, { pushFollowers: false })\r\n      .setTween(slideTl)\r\n      // .addIndicators({\r\n      //   colorStart: \"white\",\r\n      //   colorTrigger: \"white\",\r\n      //   name: \"detailScene\",\r\n      //   indent: 200,\r\n      // })\r\n      .addTo(controller);\r\n  });\r\n}\r\n\r\n//EventListeners\r\nburger.addEventListener(\"click\", navToggle);\r\nwindow.addEventListener(\"mousemove\", cursor);\r\nwindow.addEventListener(\"mouseover\", activeCursor);\r\n\r\nanimateSlide();\r\n"]}